<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
	<title>merge AML Action</title>
	<link href="../style.css" rel="stylesheet" type="text/css" />
	<meta content="PageBreeze Free HTML Editor (http://www.pagebreeze.com)" name="GENERATOR" />
	<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type" />
</head>
<body bgcolor="#ffffff">
<h1 pbzloc="2">AML Actions</h1>

<h2>merge</h2>

<p>Merge changes into existing item.&nbsp; Performs lock,&nbsp; update and unlock on an Item.</p>

<h3>Syntax:</h3>

<h4><strong><span style="color: #008000">&lt;Item type = &quot;Type&quot; action= &quot;merge&quot; [<a href="_attribute Item Attributes Edit.html#CHANGE_ATTRIBUTES">item attributes</a>]&gt;<br />
&nbsp;&lt;property&gt;value&lt;/property&gt;<br />
&nbsp;...</span><br />
&nbsp;<span style="color: #ff0000">&lt;Relationships&gt;<br />
&nbsp; &lt;Item type=&quot;Type&quot; action=&quot;add|create&quot; [id=<a href="_attribute guid.html">GUID</a>]&gt;<br />
&nbsp;&nbsp; &lt;property&gt;value&lt;/property&gt;<br />
&nbsp;&nbsp; ...</span><br />
&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #0000ff">&lt;related_id&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Item type=&quot;Type&quot; action=&quot;add|create|get&quot; [<a href="_attribute Item Attributes Get.html">item attributes</a>]&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property&gt;value&lt;/property&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Item&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp; &lt;related_id&gt;<br />
&nbsp; </span><span style="color: #ff0000">&lt;/Item&gt;<br />
&nbsp;&nbsp; ...<br />
&nbsp;&lt;/Relationships&gt;</span><br />
<span style="color: #008000">&lt;/Item&gt;</span></strong><br />
&nbsp;</h4>

<h3>Notes:</h3>

<p>The merge action requires item attribute be either an existing GUID or a where clause to prevent an ambiguous query.&nbsp; All three actions (lock, update, unlock) must be successful to commit the changes.&nbsp; If the Item does not already exist merge acts as an <a href="add.html">add </a>action.</p>

<h3>Examples:</h3>

<h4>&lt;!-- Merge part with specified properties --&gt;<br />
&lt;Item type=&quot;Part&quot; action=&quot;<span style="background-color: #ffff00">merge</span>&quot; id=&quot;8D811B22EC0C473F83E2B8B5F308ACFC&quot;&gt;<br />
&nbsp;&lt;name&gt;Carriage Assembly&lt;/name&gt;<br />
&nbsp;&lt;description&gt;Supports multi-track component installation.&lt;/description&gt;<br />
&lt;/Item&gt;</h4>

<h4>&lt;!--&nbsp;Merge existing part&nbsp;and add&nbsp;new related item --&gt;<br />
&nbsp;&lt;Item type=&quot;Part&quot; action=&quot;<span style="background-color: #ffff00">merge</span>&quot; where=&quot;[part].item_number=&#39;8120-8900&#39;&quot;&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;description&gt;Revision posted May 2013&lt;/description&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;Relationships&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Item type=&quot;Part Document&quot; action=&quot;add&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;related_id&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Item type=&quot;Document&quot; action=&quot;add&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;item_number&gt;DOC91992&lt;/item_number&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;name&gt;Specification 91992&lt;/name&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Item&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/related_id&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Item&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/Relationships&gt;<br />
&nbsp;&lt;/Item&gt;<br />
&nbsp;</h4>
</body>
</html>
